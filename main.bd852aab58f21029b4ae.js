!function(a){function e(e){for(var s,c,p=e[0],r=e[1],l=e[2],C=0,u=[];C<p.length;C++)c=p[C],Object.prototype.hasOwnProperty.call(t,c)&&t[c]&&u.push(t[c][0]),t[c]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s]);for(o&&o(e);u.length;)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var a,e=0;e<n.length;e++){for(var i=n[e],s=!0,p=1;p<i.length;p++){var r=i[p];0!==t[r]&&(s=!1)}s&&(n.splice(e--,1),a=c(c.s=i[0]))}return a}var s={},t={0:0},n=[];function c(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return a[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=a,c.c=s,c.d=function(a,e,i){c.o(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:i})},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,e){if(1&e&&(a=c(a)),8&e)return a;if(4&e&&"object"==typeof a&&a&&a.__esModule)return a;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:a}),2&e&&"string"!=typeof a)for(var s in a)c.d(i,s,function(e){return a[e]}.bind(null,s));return i},c.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(e,"a",e),e},c.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},c.p="";var p=window.webpackJsonp=window.webpackJsonp||[],r=p.push.bind(p);p.push=e,p=p.slice();for(var l=0;l<p.length;l++)e(p[l]);var o=r;n.push([121,1]),i()}({121:function(a,e,i){i(122),a.exports=i(308)},308:function(a,e,i){"use strict";function s(a,e){return function(a){if(Array.isArray(a))return a}(a)||function(a,e){var i=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null==i)return;var s,t,n=[],c=!0,p=!1;try{for(i=i.call(a);!(c=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);c=!0);}catch(a){p=!0,t=a}finally{try{c||null==i.return||i.return()}finally{if(p)throw t}}return n}(a,e)||c(a,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(a){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(a)}function n(a){return function(a){if(Array.isArray(a))return p(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||c(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(a,e){if(a){if("string"==typeof a)return p(a,e);var i=Object.prototype.toString.call(a).slice(8,-1);return"Object"===i&&a.constructor&&(i=a.constructor.name),"Map"===i||"Set"===i?Array.from(a):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(a,e):void 0}}function p(a,e){(null==e||e>a.length)&&(e=a.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=a[i];return s}function r(a,e,i,c){var p,r=null;try{r=document.createElement(a)}catch(a){throw new Error("Give the correct html element name")}e&&(p=r.classList).add.apply(p,n(e.split(" "))),i&&Array.isArray(i)?i.forEach((function(a){return a&&r.appendChild(a)})):i&&"object"===t(i)?r.appendChild(i):i&&"string"==typeof i&&(r.innerHTML=i),c&&c.appendChild(r);for(var l=arguments.length,o=new Array(l>4?l-4:0),C=4;C<l;C++)o[C-4]=arguments[C];return o.length&&o.forEach((function(a){var e=s(a,2),i=e[0],t=e[1];""===t&&r.setAttribute(i,""),i.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck/)?r.setAttribute(i,t):r.dataset[i]=t})),r}i.r(e);var l={ru:[{mainCaps:"CapsLock",specialCaps:null,code:"CapsLock"},{mainCaps:"ё",specialCaps:"Ё",code:"Backquote"},{mainCaps:"1",specialCaps:"!",code:"Digit1"},{mainCaps:"2",specialCaps:'"',code:"Digit2"},{mainCaps:"3",specialCaps:"№",code:"Digit3"},{mainCaps:"4",specialCaps:";",code:"Digit4"},{mainCaps:"5",specialCaps:"%",code:"Digit5"},{mainCaps:"6",specialCaps:":",code:"Digit6"},{mainCaps:"7",specialCaps:"?",code:"Digit7"},{mainCaps:"8",specialCaps:"*",code:"Digit8"},{mainCaps:"9",specialCaps:"(",code:"Digit9"},{mainCaps:"0",specialCaps:")",code:"Digit0"},{mainCaps:"-",specialCaps:"_",code:"Minus"},{mainCaps:"=",specialCaps:"+",code:"Equal"},{mainCaps:"Backspace",specialCaps:null,code:"Backspace"},{mainCaps:"Delete",specialCaps:null,code:"Delete"},{mainCaps:"Tab",specialCaps:null,code:"Tab"},{mainCaps:"й",specialCaps:"Й",code:"KeyQ"},{mainCaps:"ц",specialCaps:"Ц",code:"KeyW"},{mainCaps:"у",specialCaps:"У",code:"KeyE"},{mainCaps:"к",specialCaps:"К",code:"KeyR"},{mainCaps:"е",specialCaps:"Е",code:"KeyT"},{mainCaps:"н",specialCaps:"Н",code:"KeyY"},{mainCaps:"г",specialCaps:"Г",code:"KeyU"},{mainCaps:"ш",specialCaps:"Ш",code:"KeyI"},{mainCaps:"щ",specialCaps:"Щ",code:"KeyO"},{mainCaps:"з",specialCaps:"З",code:"KeyP"},{mainCaps:"х",specialCaps:"Х",code:"BracketLeft"},{mainCaps:"ъ",specialCaps:"Ъ",code:"BracketRight"},{mainCaps:"Enter",specialCaps:null,code:"Enter"},{mainCaps:"ф",specialCaps:"Ф",code:"KeyA"},{mainCaps:"ы",specialCaps:"Ы",code:"KeyS"},{mainCaps:"в",specialCaps:"В",code:"KeyD"},{mainCaps:"а",specialCaps:"А",code:"KeyF"},{mainCaps:"п",specialCaps:"П",code:"KeyG"},{mainCaps:"р",specialCaps:"Р",code:"KeyH"},{mainCaps:"о",specialCaps:"О",code:"KeyJ"},{mainCaps:"л",specialCaps:"Л",code:"KeyK"},{mainCaps:"д",specialCaps:"Д",code:"KeyL"},{mainCaps:"ж",specialCaps:"Ж",code:"Semicolon"},{mainCaps:"э",specialCaps:"Э",code:"Quote"},{mainCaps:"\\",specialCaps:"/",code:"Backslash"},{mainCaps:"Shift",specialCaps:null,code:"ShiftLeft"},{mainCaps:"/",specialCaps:"|",code:"IntlBackslash"},{mainCaps:"я",specialCaps:"Я",code:"KeyZ"},{mainCaps:"ч",specialCaps:"Ч",code:"KeyX"},{mainCaps:"с",specialCaps:"С",code:"KeyC"},{mainCaps:"м",specialCaps:"М",code:"KeyV"},{mainCaps:"и",specialCaps:"И",code:"KeyB"},{mainCaps:"т",specialCaps:"Т",code:"KeyN"},{mainCaps:"ь",specialCaps:"Ь",code:"KeyM"},{mainCaps:"б",specialCaps:"Б",code:"Comma"},{mainCaps:"ю",specialCaps:"Ю",code:"Period"},{mainCaps:".",specialCaps:",",code:"Slash"},{mainCaps:"Shift",specialCaps:null,code:"ShiftRight"},{mainCaps:"Ctrl",specialCaps:null,code:"ControlLeft"},{mainCaps:"Alt",specialCaps:null,code:"AltLeft"},{mainCaps:" ",specialCaps:null,code:"Space"},{mainCaps:"Alt",specialCaps:null,code:"AltRight"},{mainCaps:"Ctrl",specialCaps:null,code:"ControlRight"},{mainCaps:"&larr;",specialCaps:null,code:"ArrowLeft"},{mainCaps:"&uarr;",specialCaps:null,code:"ArrowUp"},{mainCaps:"&darr;",specialCaps:null,code:"ArrowDown"},{mainCaps:"&rarr;",specialCaps:null,code:"ArrowRight"},{mainCaps:"Win",specialCaps:null,code:"Win"}],en:[{mainCaps:"`",specialCaps:"~",code:"Backquote"},{mainCaps:"1",specialCaps:"!",code:"Digit1"},{mainCaps:"2",specialCaps:"@",code:"Digit2"},{mainCaps:"3",specialCaps:"#",code:"Digit3"},{mainCaps:"4",specialCaps:"$",code:"Digit4"},{mainCaps:"5",specialCaps:"%",code:"Digit5"},{mainCaps:"6",specialCaps:"^",code:"Digit6"},{mainCaps:"7",specialCaps:"&",code:"Digit7"},{mainCaps:"8",specialCaps:"*",code:"Digit8"},{mainCaps:"9",specialCaps:"(",code:"Digit9"},{mainCaps:"0",specialCaps:")",code:"Digit0"},{mainCaps:"-",specialCaps:"_",code:"Minus"},{mainCaps:"=",specialCaps:"+",code:"Equal"},{mainCaps:"Backspace",specialCaps:null,code:"Backspace"},{mainCaps:"Delete",specialCaps:null,code:"Delete"},{mainCaps:"Tab",specialCaps:null,code:"Tab"},{mainCaps:"q",specialCaps:"Q",code:"KeyQ"},{mainCaps:"w",specialCaps:"W",code:"KeyW"},{mainCaps:"e",specialCaps:"E",code:"KeyE"},{mainCaps:"r",specialCaps:"R",code:"KeyR"},{mainCaps:"t",specialCaps:"T",code:"KeyT"},{mainCaps:"y",specialCaps:"Y",code:"KeyY"},{mainCaps:"u",specialCaps:"U",code:"KeyU"},{mainCaps:"i",specialCaps:"I",code:"KeyI"},{mainCaps:"o",specialCaps:"O",code:"KeyO"},{mainCaps:"p",specialCaps:"P",code:"KeyP"},{mainCaps:"[",specialCaps:"{",code:"BracketLeft"},{mainCaps:"]",specialCaps:"}",code:"BracketRight"},{mainCaps:"Enter",specialCaps:null,code:"Enter"},{mainCaps:"CapsLock",specialCaps:null,code:"CapsLock"},{mainCaps:"a",specialCaps:"A",code:"KeyA"},{mainCaps:"s",specialCaps:"S",code:"KeyS"},{mainCaps:"d",specialCaps:"D",code:"KeyD"},{mainCaps:"f",specialCaps:"F",code:"KeyF"},{mainCaps:"g",specialCaps:"G",code:"KeyG"},{mainCaps:"h",specialCaps:"H",code:"KeyH"},{mainCaps:"j",specialCaps:"J",code:"KeyJ"},{mainCaps:"k",specialCaps:"K",code:"KeyK"},{mainCaps:"l",specialCaps:"L",code:"KeyL"},{mainCaps:";",specialCaps:":",code:"Semicolon"},{mainCaps:"'",specialCaps:'"',code:"Quote"},{mainCaps:"\\",specialCaps:"|",code:"Backslash"},{mainCaps:"Shift",specialCaps:null,code:"ShiftLeft"},{mainCaps:"<",specialCaps:">",code:"IntlBackslash"},{mainCaps:"z",specialCaps:"Z",code:"KeyZ"},{mainCaps:"x",specialCaps:"X",code:"KeyX"},{mainCaps:"c",specialCaps:"C",code:"KeyC"},{mainCaps:"v",specialCaps:"V",code:"KeyV"},{mainCaps:"b",specialCaps:"B",code:"KeyB"},{mainCaps:"n",specialCaps:"N",code:"KeyN"},{mainCaps:"m",specialCaps:"M",code:"KeyM"},{mainCaps:",",specialCaps:"<",code:"Comma"},{mainCaps:".",specialCaps:">",code:"Period"},{mainCaps:"/",specialCaps:"?",code:"Slash"},{mainCaps:"Shift",specialCaps:null,code:"ShiftRight"},{mainCaps:"Ctrl",specialCaps:null,code:"ControlLeft"},{mainCaps:"Alt",specialCaps:null,code:"AltLeft"},{mainCaps:" ",specialCaps:null,code:"Space"},{mainCaps:"Alt",specialCaps:null,code:"AltRight"},{mainCaps:"Ctrl",specialCaps:null,code:"ControlRight"},{mainCaps:"&larr;",specialCaps:null,code:"ArrowLeft"},{mainCaps:"&uarr;",specialCaps:null,code:"ArrowUp"},{mainCaps:"&darr;",specialCaps:null,code:"ArrowDown"},{mainCaps:"&rarr;",specialCaps:null,code:"ArrowRight"},{mainCaps:"Win",specialCaps:null,code:"Win"}]};function o(a,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}function C(a,e,i){return e&&o(a.prototype,e),i&&o(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}var u=C((function a(e){var i=e.mainCaps,s=e.specialCaps,t=e.code;!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.code=t,this.mainCaps=i,this.specialCaps=s,this.isKeyFun=Boolean(i.match(/Ctrl|arr|Alt|Shift|Tab|Back|Del|Enter|Caps|Win/)),s&&s.match(/[^a-zA-Zа-яА-ЯёЁ0-9]/)?this.specialCharacter=r("div","specialCharacter",this.specialCaps):this.specialCharacter=r("div","specialCharacter",""),this.mainCharacter=r("div","mainCharacter",i),this.div=r("div","item-key",[this.specialCharacter,this.mainCharacter],null,["code",this.code],this.isKey?["fn","true"]:["fn","false"])}));function d(a,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,s.key,s)}}function m(a,e,i){return e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}var h=r("main","",[r("h1","title","RSS Virtual Keyboard"),r("h3","subtitle","The keyboard was created in the Windows operating system"),r("p","help-text","To switch the language combination: left ctrl + alt")]),y=function(){function a(e){var i=this;!function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),m(this,"preHandleEvent",(function(a){a.stopPropagation();var e=a.target.closest(".item-key");if(e){var s=e.dataset.code;e.addEventListener("mouseleave",i.state),i.handleEvent({code:s,type:a.type})}})),m(this,"handleEvent",(function(a){a.stopPropagation&&a.stopPropagation();var e=a.code,s=a.type,t=i.allButtons.find((function(a){return a.code===e}));if(t)if(i.inputField.focus(),s.match(/keydown|mousedown/)){if(s.match(/mouse/)||a.preventDefault(),e.match(/Shift/)&&(i.shiftKey=!0),i.shiftKey&&i.switchRegister(!0),e.match(/Control|Alt|Caps/)&&a.repeat)return;e.match(/Control/)&&(i.ctrKey=!0),e.match(/Alt/)&&(i.altKey=!0),e.match(/Control/)&&i.altKey&&i.switchLanguage(),e.match(/Alt/)&&i.ctrKey&&i.switchLanguage(),t.div.classList.add("active"),e.match(/Caps/)&&!i.isCaps?(i.isCaps=!0,i.switchRegister(!0)):e.match(/Caps/)&&i.isCaps&&(i.isCaps=!1,i.switchRegister(!1),t.div.classList.remove("active")),i.isCaps?i.isCaps&&(i.shiftKey?i.printInput(t,t.specialCharacter.innerHTML?t.specialCaps:t.mainCaps):i.printInput(t,t.specialCharacter.innerHTML?t.mainCaps:t.specialCaps)):i.printInput(t,i.shiftKey?t.specialCaps:t.mainCaps),i.keysPressed[t.code]=t}else a.type.match(/keyup|mouseup/)&&(i.resetdownButtons(e),e.match(/Shift/)&&(i.shiftKey=!1,i.switchRegister(!1)),e.match(/Control/)&&(i.ctrKey=!1),e.match(/Alt/)&&(i.altKey=!1),e.match(/Caps/)||t.div.classList.remove("active"))})),m(this,"stateButton",(function(a){var e=a.target.dataset.code;e.match("Shift")&&(i.shiftKey=!1,i.switchRegister(!1),i.keysPressed[e].div.classList.remove("active")),e.match(/Control/)&&(i.ctrKey=!1),e.match(/Alt/)&&(i.altKey=!1),i.resetdownButtons(e),i.inputField.focus()})),m(this,"resetdownButtons",(function(a){i.keysPressed[a]&&(i.isCaps||i.keysPressed[a].div.classList.remove("active"),i.keysPressed[a].div.removeEventListener("mouseleave",i.state),delete i.keysPressed[a])})),m(this,"switchLanguage",(function(){var a,e,s=Object.keys(l),t=s.indexOf(i.container.dataset.languageSelect);i.keyReference=t+1<s.length?l[s[t+=1]]:l[s[t-=t]],i.container.dataset.languageSelect=s[t],a="localLang",e=s[t],window.localStorage.setItem(a,JSON.stringify(e)),i.allButtons.forEach((function(a){var e=i.keyReference.find((function(e){return e.code===a.code}));e&&(a.specialCaps=e.specialCaps,a.mainCaps=e.mainCaps,e.specialCaps&&e.specialCaps.match(/[^a-zA-Zа-яА-ЯёЁ0-9]/g)?a.specialCharacter.innerHTML=e.specialCaps:a.specialCharacter.innerHTML="",a.mainCharacter.innerHTML=e.mainCaps)})),i.isCaps&&i.switchRegister(!0)})),this.stringSorter=e,this.keysPressed={},this.isCaps=!1}var e,i,s;return e=a,(i=[{key:"init",value:function(a){return this.keyReference=l[a],this.inputField=r("textarea","inputField",null,h,["placeholder","Enter something..."],["rows",5],["cols",50],["spellcheck",!1],["autocorrect","off"]),this.container=r("div","keyboard-container",null,h,["language",a]),document.body.prepend(h),this}},{key:"renderLayout",value:function(){var a=this;this.allButtons=[],this.stringSorter.forEach((function(e,i){var s=r("div","keyboard-line",null,a.container,["row",i+1]);s.style.gridTemplateColumns="repeat(".concat(e.length,", 1fr)"),e.forEach((function(e){var i=a.keyReference.find((function(a){return a.code===e}));if(i){var t=new u(i);a.allButtons.push(t),s.appendChild(t.div)}}))})),document.addEventListener("keydown",this.handleEvent),document.addEventListener("keyup",this.handleEvent),this.container.addEventListener("mousedown",this.preHandleEvent),this.container.addEventListener("mouseup",this.preHandleEvent)}},{key:"switchRegister",value:function(a){var e=this;a?this.allButtons.forEach((function(a){a.specialCharacter&&e.shiftKey&&(a.specialCharacter.classList.add("special-active"),a.mainCharacter.classList.add("main-active")),a.isKeyFun||!e.isCaps||e.shiftKey||a.specialCharacter.innerHTML?!a.isKeyFun&&e.isCaps&&e.shiftKey?a.mainCharacter.innerHTML=a.mainCaps:a.isKeyFun||a.specialCharacter.innerHTML||(a.mainCharacter.innerHTML=a.specialCaps):a.mainCharacter.innerHTML=a.specialCaps})):this.allButtons.forEach((function(a){a.specialCharacter.innerHTML&&!a.isKeyFun?(a.specialCharacter.classList.remove("special-active"),a.mainCharacter.classList.remove("main-active"),e.isCaps?e.isCaps||(a.mainCharacter.innerHTML=a.specialCaps):a.mainCharacter.innerHTML=a.mainCaps):a.isKeyFun||(e.isCaps?a.mainCharacter.innerHTML=a.specialCaps:a.mainCharacter.innerHTML=a.mainCaps)}))}},{key:"printInput",value:function(a,e){var i=this,s=this.inputField.selectionStart,t=this.inputField.value.slice(0,s),n=this.inputField.value.slice(s),c={Tab:function(){i.inputField.value="".concat(t,"\t").concat(n),s+=1},ArrowLeft:function(){s=s-1>=0?s-1:0},ArrowRight:function(){s+=1},ArrowUp:function(){var a=i.inputField.value.slice(0,s).match(/(\n).*$(?!\1)/g)||[[1]];s-=a[0].length},ArrowDown:function(){var a=i.inputField.value.slice(s).match(/^.*(\n).*(?!\1)/)||[[1]];s+=a[0].length},Enter:function(){i.inputField.value="".concat(t,"\n").concat(n),s+=1},Delete:function(){i.inputField.value="".concat(t).concat(n.slice(1))},Backspace:function(){i.inputField.value="".concat(t.slice(0,-1)).concat(n),s-=1},Space:function(){i.inputField.value="".concat(t," ").concat(n),s+=1}};c[a.code]?c[a.code]():a.isKeyFun||(s+=1,this.inputField.value="".concat(t).concat(e||"").concat(n)),this.inputField.setSelectionRange(s,s)}}])&&d(e.prototype,i),s&&d(e,s),Object.defineProperty(e,"prototype",{writable:!1}),a}(),f=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.parse(window.localStorage.getItem(a)||e)}("localLang",'"ru"');new y([["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Delete"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backspace"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Backslash","Enter"],["ShiftLeft","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","Win","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]]).init(f).renderLayout()}});